From 053ad8e92357e710c6fd5434a60ecb564879c81c Mon Sep 17 00:00:00 2001
From: Surej Joseph <surej.aj@gmail.com>
Date: Sun, 16 Jun 2019 21:56:26 -0500
Subject: [PATCH] Enable USB-OTG on port1 of libretech h2_plus board

---
 arch/arm/boot/dts/sunxi-h3-h5.dtsi               | 5 +++--
 arch/arm/boot/dts/sunxi-libretech-all-h3-cc.dtsi | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/arch/arm/boot/dts/sunxi-h3-h5.dtsi b/arch/arm/boot/dts/sunxi-h3-h5.dtsi
index a4c757c0b..e0673b6c9 100644
--- a/arch/arm/boot/dts/sunxi-h3-h5.dtsi
+++ b/arch/arm/boot/dts/sunxi-h3-h5.dtsi
@@ -237,7 +237,8 @@
 			phys = <&usbphy 0>;
 			phy-names = "usb";
 			extcon = <&usbphy 0>;
-			status = "disabled";
+			status = "okay";
+                        dr_mode = "otg";
 		};
 
 		usbphy: phy@1c19400 {
@@ -268,7 +269,7 @@
 				      "usb1_reset",
 				      "usb2_reset",
 				      "usb3_reset";
-			status = "disabled";
+			status = "okay";
 			#phy-cells = <1>;
 		};
 
diff --git a/arch/arm/boot/dts/sunxi-libretech-all-h3-cc.dtsi b/arch/arm/boot/dts/sunxi-libretech-all-h3-cc.dtsi
index 1eadc1323..162ceebfb 100644
--- a/arch/arm/boot/dts/sunxi-libretech-all-h3-cc.dtsi
+++ b/arch/arm/boot/dts/sunxi-libretech-all-h3-cc.dtsi
@@ -210,7 +210,7 @@
 };
 
 &usb_otg {
-	dr_mode = "host";
+	dr_mode = "otg";
 	status = "okay";
 };
 
-- 
2.17.1

